\documentclass{beamer}

\usepackage[utf8]{inputenc}
\usetheme{Madrid}
\usecolortheme{default}

\usepackage{graphicx}
\graphicspath{ {./} }

%Information to be included in the title page:
\title{Many-wise Independent Hash Functions}
\author{Peleg Kazaz}
\institute{Tel Aviv University}
\date{27.10.2020}

\begin{document}

\frame{\titlepage}

\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}

\section{Hash Functions}
\begin{frame}

\frametitle{General Definitions}
Now we define boring things.
\end{frame}

\begin{frame}
\frametitle{Background for Hash Functions}

In general, "hash function" is a specific determenistic function ($\{0,1\}^* \rightarrow \{0,1\}^n$) like md5, sha-1 which is used for cryptographic algorithms. These functions have many computation properties that are used in these cases. For example:

\begin{itemize}
 \item<1-> First Pre-image (finding $m$ given $h(m)$)
 \item<2-> Second Pre-image (finding $m_2$ given $m_1$ where $h(m_1) = h(m_2)$)
 \item<3-> Collision (finding $m_1, m_2$ where $h(m_1) = h(m_2)$)
\end{itemize}
\pause \pause \pause
These properties based only on computation restrictions and therefore this definition for hash functions will not be discussed in this lecture. \\
Also there is the definition for one-way function in the computational complexity sense (where given $f(x)$ finding $x$ is .

\end{frame}

\begin{frame}
\frametitle{Random Function}

Let us consider the functions $\mathcal{D} \rightarrow \mathcal{R}$ where $\mathcal{D}$ is a $N$ sized domain and $\mathcal{R}$ is a $M$ sized range. \\
Denote $\Pi$ all of the possible functions. $\Pi = \{\pi_1, \pi_2, ... , \pi_t\}$ \\

\begin{itemize}
 \item<1-> $|\Pi| = M^N$
 \item<2-> When $\pi \leftarrow \Pi$, For every $k$: $\forall x_1, ... , x_k \in \mathcal{D}$ we get that $\pi(x_1), ... \pi(x_k) \sim U(\mathcal{R})$ and are independent r.v.   
 \item<3-> Collision probability - $\forall_{x_1, x_2 \in \mathcal{D}} \Pr[\pi(x_1) = \pi(x_2)] = \frac{1}{|\mathcal{R}|}$
\end{itemize}
\pause \pause \pause
These are nice properties. Can we achieve them using smaller function families?

\end{frame}

\begin{frame}
\frametitle{k-wise independent}

\begin{block}{Definition (k-wise Independence)}
Let $\mathcal{H} = \{h_1,...,h_t\}$ be a family of functions such that $h_i:\mathcal{D}\rightarrow \mathcal{R}$. $\mathcal{H}$ is called \alert{k-wise independent hash functions family} if $\forall_{x_1, ..., x_k \in \mathcal{D}} \, \forall_{y_1, ..., y_k \in \mathcal{R}}$ we have the following guarantee. \\
\begin{center}
$\Pr\limits_{h \leftarrow \mathcal{H}}[\forall_i  h(x_i) = y_i] = \frac{1}{|\mathcal{R}|^k}$
\end{center}
\end{block}

Intuitively, the first $k$ sampled elements feel like randomly chosen. \\
Pay attention that the $k+1$'th element may be determined uniquely.
\end{frame}

\begin{frame}{k-wise $\rightarrow$ k-1-wise}
\begin{itemize}
 \item<1-> Let us consider $k-1$ different elements $x_1,...,x_{k-1}\in\mathcal{D}, y_1,...,y_{k-1}\in\mathcal{R}$ and choose some $x_k \in \mathcal{D}$.
 \item<2-> $\Pr\limits_{h \leftarrow \mathcal{H}}[\forall_{i \in [k-1]}  h(x_i) = y_i] = \sum\limits_{y_k \in \mathcal{R}} \Pr\limits_{h \leftarrow \mathcal{H}}[\forall_{i \in [k]}  h(x_i) = y_i] = \sum\limits_{y_k \in \mathcal{R}} \frac{1}{|\mathcal{R}|^k} = \frac{|\mathcal{R}|}{|\mathcal{R}|^k} = \frac{1}{|\mathcal{R}|^{k-1}}$.   
 \item<3-> By induction, the same holds for any $i \leq k$. 
 \item<4-> Using this result, we can prove the independence between the inputs.
 \item<5-> To sum up - the definition is equivalent for requesting the first $k$ samples of $h$ to be uniformly distributed and independent.
\end{itemize}
\end{frame}

\begin{frame}{Example Construction}
\begin{itemize}
 \item<1-> Let $\mathcal{D} = \mathcal{R} = \mathbb{F}$, where $\mathbb{F}$ is a field.
 \item<2-> Let us consider the family of polynomials up to degree k. $\mathcal{H} = \{h_{a} | a \in \mathbb{F}^k\}$ where $h(X) = a_{k-1}X^{k-1} + ... + a_1 X + a_0$
 \item<3-> This family is k-wise independent since the first $k$ samples of a polynomial are independent and uniformly distributed. 
\end{itemize}
\end{frame}

\begin{frame}{Universal Hash Function}
\begin{block}{Definition (Universal Family)}
Let $\mathcal{H} = \{h_1,...,h_t\}$ be a family of functions such that $h_i:\mathcal{D}\rightarrow \mathcal{R}$. $\mathcal{H}$ is called \alert{universal} if $\forall_{x_1, x_2 \in \mathcal{D}}$ we have the following guarantee. \\
\begin{center}
$\Pr\limits_{h \leftarrow \mathcal{H}}[h(x_1) = h(x_2)] \leq \frac{1}{|\mathcal{R}|}$
\end{center}
\end{block}
\end{frame}

\begin{frame}{Universal vs 2-wise}

\begin{itemize}
    \item 2-wise Independence implies universality \\
    $\Pr[h(x_1) = h(x_2)] = \sum\limits_{y \in \mathcal{R}} \Pr[h(x_1)=h(x_2)=y] = \sum\limits_{y \in \mathcal{R}} \frac{1}{|\mathcal{R}|^2} = \frac{1}{|\mathcal{R}|}$
    \item When $|\mathcal{D}| < |\mathcal{R}|$, we can craft a specific function $h^*$ which is one-to-one, and get $\mathcal{H} = \{h^*\}$ which is universal (and not 2-wise). 
\end{itemize}
    
\end{frame}

\begin{frame}{Universal vs 2-wise}
        \includegraphics[scale=0.44]{resized.png}
\end{frame}

\section{Non-adaptive PRF to Adaptive PRF}

\end{document}